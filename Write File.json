{"data":{"edges":[],"nodes":[{"data":{"node":{"template":{"_type":"Component","code":{"type":"code","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"value":"# langflow/custom_components/write_file.py\r\n# -----------------------------------------------------\r\n# A Langflow component that creates a text file in a\r\n# user‑specified directory.\r\n# -----------------------------------------------------\r\n\r\nfrom pathlib import Path\r\n\r\nfrom langflow.custom.custom_component.component import Component\r\nfrom langflow.io import MessageTextInput, Output\r\nfrom langflow.schema.data import Data\r\n\r\n\r\nclass WriteFileComponent(Component):\r\n    \"\"\"\r\n    Write File\r\n\r\n    Creates a text file with the supplied name and content inside the\r\n    specified directory. The directory is automatically created if\r\n    it does not exist.\r\n    \"\"\"\r\n\r\n    # ────── Component metadata ──────\r\n    display_name = \"Write File\"\r\n    description = (\r\n        \"Create a file with the given name and content in a specified directory.\"\r\n    )\r\n    documentation: str = (\r\n        \"https://docs.langflow.org/components-custom-components#write-file\"\r\n    )\r\n    icon = \"file-plus\"\r\n    name = \"WriteFile\"\r\n\r\n    # ────── Inputs ──────\r\n    inputs = [\r\n        MessageTextInput(\r\n            name=\"directory\",\r\n            display_name=\"Directory Path\",\r\n            info=\"Path to the directory where the file will be created. \"\r\n            \"It will be created if it does not exist.\",\r\n            value=\".\",\r\n        ),\r\n        MessageTextInput(\r\n            name=\"file_name\",\r\n            display_name=\"File Name\",\r\n            info=\"Name of the file to create (including extension).\",\r\n            value=\"output.txt\",\r\n        ),\r\n        MessageTextInput(\r\n            name=\"file_content\",\r\n            display_name=\"File Content\",\r\n            info=\"Text content to write into the file.\",\r\n            value=\"Hello, world!\",\r\n        ),\r\n    ]\r\n\r\n    # ────── Outputs ──────\r\n    outputs = [\r\n        Output(\r\n            display_name=\"File Path\",\r\n            name=\"file_path\",\r\n            method=\"write_file\",\r\n            types=[\"Data\"],\r\n        )\r\n    ]\r\n\r\n    # ────── Core logic ──────\r\n    def write_file(self) -> Data:\r\n        \"\"\"\r\n        Create the directory (if needed), write the file, and return its path.\r\n\r\n        Returns\r\n        -------\r\n        Data\r\n            A Data object containing the absolute file path.\r\n        \"\"\"\r\n        # Resolve directory path, expand ~, and create it if missing\r\n        dir_path = Path(self.directory).expanduser().resolve()\r\n        dir_path.mkdir(parents=True, exist_ok=True)\r\n\r\n        # Resolve full file path\r\n        file_path = dir_path / self.file_name\r\n\r\n        # Write the content to the file\r\n        try:\r\n            file_path.write_text(self.file_content, encoding=\"utf-8\")\r\n        except Exception as exc:\r\n            raise RuntimeError(\r\n                f\"Failed to write file '{file_path}': {exc}\"\r\n            ) from exc\r\n\r\n        # Store status for display in the UI and return the path\r\n        self.status = str(file_path)\r\n        return Data(data={\"path\": str(file_path)})","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":true,"dynamic":true,"info":"","load_from_db":false,"title_case":false},"directory":{"tool_mode":false,"trace_as_input":true,"trace_as_metadata":true,"load_from_db":false,"list":false,"list_add_label":"Add More","required":false,"placeholder":"","show":true,"name":"directory","value":"C:\\Users\\LENOVO T470s\\Desktop\\first mcp\\templates","display_name":"Directory Path","advanced":false,"input_types":["Message"],"dynamic":false,"info":"Path to the directory where the file will be created. It will be created if it does not exist.","title_case":false,"type":"str","_input_type":"MessageTextInput"},"file_content":{"tool_mode":false,"trace_as_input":true,"trace_as_metadata":true,"load_from_db":false,"list":false,"list_add_label":"Add More","required":false,"placeholder":"","show":true,"name":"file_content","value":"input()","display_name":"File Content","advanced":false,"input_types":["Message"],"dynamic":false,"info":"Text content to write into the file.","title_case":false,"type":"str","_input_type":"MessageTextInput"},"file_name":{"tool_mode":false,"trace_as_input":true,"trace_as_metadata":true,"load_from_db":false,"list":false,"list_add_label":"Add More","required":false,"placeholder":"","show":true,"name":"file_name","value":"app.py","display_name":"File Name","advanced":false,"input_types":["Message"],"dynamic":false,"info":"Name of the file to create (including extension).","title_case":false,"type":"str","_input_type":"MessageTextInput"}},"description":"Create a file with the given name and content in a specified directory.","icon":"file-plus","base_classes":["Data"],"display_name":"Write File","documentation":"https://docs.langflow.org/components-custom-components#write-file","minimized":false,"custom_fields":{},"output_types":[],"pinned":false,"conditional_paths":[],"frozen":false,"outputs":[{"types":["Data"],"selected":"Data","name":"file_path","hidden":null,"display_name":"File Path","method":"write_file","value":"__UNDEFINED__","cache":true,"required_inputs":null,"allows_loop":false,"group_outputs":false,"options":null,"tool_mode":true}],"field_order":["directory","file_name","file_content"],"beta":false,"legacy":false,"edited":true,"metadata":{},"tool_mode":false,"lf_version":"1.5.0.post1","official":false},"showNode":true,"type":"WriteFile","id":"CustomComponent-Bxwwn"},"id":"CustomComponent-Bxwwn","position":{"x":0,"y":0},"type":"genericNode"}],"viewport":{"x":1,"y":1,"zoom":1}},"description":"Create a file with the given name and content in a specified directory.","name":"Write File","id":"CustomComponent-Bxwwn","is_component":true,"last_tested_version":"1.5.0.post1"}